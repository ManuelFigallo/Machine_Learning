{"version":2,"type":"job","id":"40e646e5-838d-42c0-81f7-96858cb5f31d","name":"TARGETING Flow_Snowflake.cpf","label":"TARGETING Flow_Snowflake","description":"","created":1601904919925,"modified":1601915321702,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"processFlow","priority":"Reserved"},"properties":{"left":"20","top":"20","width":"100","height":"60","region":"output","fillcolor":"#FCFCFC","linecolor":"#9a9a9a","tooltip":"","portsonly":false,"key":"control","visible":true,"readonly":false},"steps":[{"version":2,"type":"job","id":"102471d4-3ebe-4186-87a6-66127a4d5ec6","name":"","label":"Transform Sub-flow","description":"","created":1601904919926,"modified":1601904919926,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"processFlow","priority":"Reserved","dependencies":["360ad212-76d1-4427-8e2a-913d379da73e"]},"properties":{"left":"224","top":"28","width":"100","height":"60","region":"output","fillcolor":"#FCFCFC","linecolor":"#9a9a9a","tooltip":"Transform Sub-flow","portsonly":true,"key":"control","visible":true,"readonly":false},"steps":[{"version":2,"type":"code","id":"ea713ed9-383b-4665-8938-09b6c970c1f0","name":"","label":"Transform Code","description":"","created":1601904919927,"modified":1601904919927,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"runSASCode","priority":"Reserved","code":"data work.MYSNOWFLAKEDATA_WIDE1 (drop=_NAME_);\n\tset work.MYSNOWFLAKEDATA_WIDE;\n\t\n\tIF YEAR_NUM > 2016 THEN DELETE;\n\t\n\tYEAR_DT=mdy(1,1,year_num);\n\tformat YEAR_DT mmddyy8.;\nrun;","snippet":"","resource":false,"dependencies":["f99f16e3-bc9f-4c5a-821d-2ece3109f75f"]},"properties":{"left":"265","top":"8","width":"100","height":"60","region":"output","fillcolor":"#FCFCFC","linecolor":"#9a9a9a","tooltip":"Transform Code","portsonly":true,"key":"control","visible":true}},{"version":2,"type":"task","id":"f99f16e3-bc9f-4c5a-821d-2ece3109f75f","name":"","label":"Transpose Data","description":"The Transpose Data task transposes selected columns of an input table into the rows of an output table.","created":1601904919928,"modified":1601904919928,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"runSASCode","priority":"Reserved","code":"/*\n *\n * Task code generated by SAS Studio 3.8 \n *\n * Generated on '10/5/20, 9:33 AM' \n * Generated by 'mafiga' \n * Generated on server 'L10B236.NA.SAS.COM' \n * Generated on SAS platform 'X64_10PRO WIN' \n * Generated on SAS version '9.04.01M6P11072018' \n * Generated on browser 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36' \n * Generated on web client 'http://localhost:52089/main?locale=en_US&zone=GMT-04%253A00&sutoken=%257B477C1EAA-6E31-42EC-BB6E-8A03E9E91A7C%257D' \n *\n */\n\nproc sort data=WORK.MYSNOWFLAKEDATA out=WORK.SORTTempTableSorted;\n\tby YEAR_NUM LOCALE_VA;\nrun;\n\nproc transpose data=WORK.SORTTempTableSorted out=work.MYSNOWFLAKEDATA_Wide;\n\tvar VALUE;\n\tid INDICATOR;\n\tby YEAR_NUM LOCALE_VA;\nrun;\n\nproc print data=work.MYSNOWFLAKEDATA_Wide(obs=10);\n\ttitle \"Subset of work.MYSNOWFLAKEDATA_Wide\";\nrun;\n\ntitle;\n\nproc delete data=WORK.SORTTempTableSorted;\nrun;","ctm":"./resources/sas/models/Transpose.xml","serializedData":"<Task schemaVersion=\"5.4\">\n\n    <Registration>\n        <Name>Transpose Data</Name>\n        <Description>The Transpose Data task transposes selected columns of an input table into the rows of an output table.</Description>\n        <GUID>A2B04BB0-A6AF-4E48-8A80-B7206A0DD6D4</GUID>\n        <Procedures>TRANSPOSE</Procedures>\n        <Version>3.8</Version>\n        <Links>\n            <Link href=\"http://documentation.sas.com/?softwareId=STUDIOMID&amp;softwareVersion=3.8&amp;softwareContextId=tasks&amp;requestor=inapp\">SAS Studio Task Reference Guide</Link>\n            <Link href=\"\"> </Link>\n            <Link href=\"\"> </Link>\n\t\t\t <Link href=\"http://documentation.sas.com/?softwareId=MVADOC&amp;softwareVersion=3.8_9.4&amp;softwareContextId=proc_transpose&amp;requestor=inapp\">The TRANSPOSE Procedure</Link>\n            <Link href=\"\"> </Link>\n            <Link href=\"\"> </Link>\n            <Link href=\"http://support.sas.com/training/studio\">SAS Tutorials</Link>\n        </Links>\n    </Registration>\n\n    <Metadata>\n        <DataSources>\n            <DataSource name=\"dataset\" where=\"true\">\n                <Roles>\n                    <Role type=\"A\" name=\"transposeVariables\" order=\"true\" exclude=\"idVariable,idLabelVariable\" maxVars=\"0\" minVars=\"1\">Variables to transpose:</Role>\n                    <Role type=\"A\" name=\"copyVariables\" order=\"true\" maxVars=\"0\" minVars=\"0\" indent=\"1\">Copy to output data set:</Role>\n                    <Role type=\"A\" name=\"idVariable\" order=\"true\" exclude=\"transposeVariables, byVariables, idLabelVariable\" maxVars=\"1\" minVars=\"1\" indent=\"1\">New column names:</Role>\n                    <Role type=\"A\" name=\"idLabelVariable\" order=\"true\" exclude=\"transposeVariables, byVariables, idVariable\" maxVars=\"1\" minVars=\"1\" indent=\"1\">New column labels:</Role>\n                    <Role type=\"A\" name=\"byVariables\" order=\"true\" exclude=\"idVariable, idLabelVariable\" maxVars=\"0\" minVars=\"0\">Group analysis by:</Role>\n                </Roles>\n            </DataSource>\n        </DataSources>\n\n        <Options>\n            <Option name=\"dataTab\" inputType=\"string\">DATA</Option>\n            <Option name=\"dataGroup\" inputType=\"string\">DATA</Option>\n            <Option name=\"rolesGroup\" inputType=\"string\">ROLES</Option>\n            <Option name=\"otherRolesGroup\" inputType=\"string\">ADDITIONAL ROLES</Option>\n\n            <Option name=\"optionsTab\" inputType=\"string\">OPTIONS</Option>\n\n            <Option name=\"allowDuplicates\" inputType=\"checkbox\" defaultValue=\"0\" indent=\"1\">Allow duplicates of ID values</Option>\n\n            <Option name=\"transposedVarNamesGroup\" inputType=\"string\">NAMES AND LABELS OF TRANSPOSED VARIABLES</Option>\n            <Option name=\"transposedVarNamesNote\" inputType=\"string\">Construct New Variable Names</Option>\n            <Option name=\"usePrefix\" inputType=\"checkbox\" defaultValue=\"1\">Use prefix</Option>\n            <Option required=\"true\" name=\"prefix\" width=\"200px\" inputType=\"validationtext\" missingMessage=\"Enter a valid SAS variable name\" defaultValue=\"Column\" indent=\"1\" regExp=\".{1,30}\" invalidMessage=\"Enter a valid SAS variable name\">Prefix:</Option>\n            <Option name=\"useIdVar\" inputType=\"checkbox\" defaultValue=\"0\">Select a variable that contains the names of the new variables</Option>\n            <Option name=\"transposedVarLabelsNote\" inputType=\"string\">Construct New Variable Labels</Option>\n            <Option name=\"useIdLabelVar\" inputType=\"checkbox\" defaultValue=\"0\">Select a variable that contains the labels of the new variables</Option>\n\n            <Option name=\"originalVarNamesGroup\" inputType=\"string\">NAMES AND LABELS OF ORIGINAL VARIABLES</Option>\n            <Option name=\"useNameVarname\" inputType=\"checkbox\" defaultValue=\"0\">Put original variable names in a new variable</Option>\n            <Option name=\"useLabelVarname\" inputType=\"checkbox\" defaultValue=\"0\">Put original variable labels in a new variable</Option>\n<!-- New SAS variable name: check against input data set -->\n            <Option required=\"true\" name=\"nameVarname\" width=\"200px\" inputType=\"validationtext\" missingMessage=\"Enter a valid SAS variable name to hold the original variable names\" defaultValue=\"_Name_\" indent=\"1\" regExp=\".{1,32}\" invalidMessage=\"Enter a valid SAS variable name to hold the original variable names\">Name:</Option>\n<!-- New SAS variable name: check against input data set -->\n            <Option required=\"true\" name=\"labelVarname\" width=\"203px\" inputType=\"validationtext\" missingMessage=\"Enter a valid SAS variable name to hold the original variable labels\" defaultValue=\"_Label_\" indent=\"1\" regExp=\".{1,32}\" invalidMessage=\"Enter a valid SAS variable name to hold the original variable labels\">Label:</Option>\n\n            <Option name=\"outputGroup\" inputType=\"string\">OUTPUT DATA SET</Option>\n\n            <Option required=\"true\" name=\"outDsname\" width=\"100%\" inputType=\"outputdata\" defaultValue=\"work.Transpose\" unique=\"true\">Data set name:</Option>\n\n            <Option name=\"showDataGroup\" inputType=\"string\">Show Output Data</Option>\n            <Option name=\"showData\" inputType=\"checkbox\" defaultValue=\"0\">Show output data</Option>\n            <Option name=\"showDataCombo\" inputType=\"combobox\" defaultValue=\"showSubsetDataChoice\">Show:</Option>\n            <Option name=\"showSubsetDataChoice\" inputType=\"string\">Show subset of output data</Option>\n            <Option name=\"showAllDataChoice\" inputType=\"string\">Show all output data</Option>\n            <Option required=\"true\" name=\"subsetNobs\" width=\"100px\" inputType=\"numstepper\" promptMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" missingMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" defaultValue=\"10\" indent=\"1\" invalidMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" rangeMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" increment=\"1\" decimalPlaces=\"0\" minValue=\"1\">Number of observations to show:</Option>\n\n            <Option name=\"subsetTitle\" inputType=\"string\">Subset of {1}</Option>\n\n        </Options>\n    </Metadata>\n\n        <UI>\n            <Container option=\"dataTab\">\n                <Group option=\"dataGroup\" open=\"true\">\n                    <DataItem data=\"dataset\"/>\n                </Group>\n                <Group option=\"rolesGroup\" open=\"true\">\n                    <RoleItem role=\"transposeVariables\"/>\n                </Group>\n                <Group option=\"otherRolesGroup\">\n                    <RoleItem role=\"byVariables\"/>\n                </Group>\n                <Group option=\"outputGroup\" open=\"true\">\n                    <OptionItem option=\"outDsname\"/>\n                    <RoleItem role=\"copyVariables\"/>\n                    <Group option=\"showDataGroup\" open=\"true\">\n                        <OptionItem option=\"showData\"/>\n                        <OptionChoice option=\"showDataCombo\">\n                            <OptionItem option=\"showSubsetDataChoice\"/>\n                            <OptionItem option=\"showAllDataChoice\"/>\n                        </OptionChoice>\n                        <OptionItem option=\"subsetNobs\"/>\n                    </Group>\n                </Group>\n            </Container>\n\n            <Container option=\"optionsTab\">\n\n                <Group option=\"transposedVarNamesGroup\" open=\"true\">\n                    <Group option=\"transposedVarNamesNote\" open=\"true\">\n                    <OptionItem option=\"usePrefix\"/>\n                        <OptionItem option=\"prefix\"/>\n                    <OptionItem option=\"useIdVar\"/>\n                    <RoleItem role=\"idVariable\"/>\n                    <OptionItem option=\"allowDuplicates\"/>\n                </Group>\n                    <Group option=\"transposedVarLabelsNote\">\n                    <OptionItem option=\"useIdLabelVar\"/>\n                    <RoleItem role=\"idLabelVariable\"/>\n                </Group>\n                </Group>\n                <Group option=\"originalVarNamesGroup\">\n                    <OptionItem option=\"useNameVarname\"/>\n                    <OptionItem option=\"nameVarname\"/>\n                    <OptionItem option=\"useLabelVarname\"/>\n                    <OptionItem option=\"labelVarname\"/>\n                </Group>\n\n            </Container>\n        </UI>\n\n    <Dependencies>\n        <Dependency condition=\"$usePrefix &amp;&amp; $usePrefix == '1' || !$usePrefix\">\n            <Target option=\"prefix\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"prefix\" action=\"hide\" conditionResult=\"false\"/>\n        </Dependency>\n        <Dependency condition=\"$useIdVar &amp;&amp; $useIdVar == '1' || !$useIdVar\">\n            <Target option=\"idVariable\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"idVariable\" action=\"hide\" conditionResult=\"false\"/>\n            <Target option=\"allowDuplicates\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"allowDuplicates\" action=\"hide\" conditionResult=\"false\"/>\n        </Dependency>\n        <Dependency condition=\"$useIdLabelVar &amp;&amp; $useIdLabelVar == '1' || !$useIdLabelVar\">\n            <Target option=\"idLabelVariable\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"idLabelVariable\" action=\"hide\" conditionResult=\"false\"/>\n        </Dependency>\n        <Dependency condition=\"$useNameVarname &amp;&amp; $useNameVarname == '1' || !$useNameVarname\">\n            <Target option=\"nameVarname\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"nameVarname\" action=\"hide\" conditionResult=\"false\"/>\n        </Dependency>\n        <Dependency condition=\"$useLabelVarname &amp;&amp; $useLabelVarname == '1' || !$useLabelVarname\">\n            <Target option=\"labelVarname\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"labelVarname\" action=\"hide\" conditionResult=\"false\"/>\n        </Dependency>\n        <Dependency condition=\"($showData == '1')\">\n            <Target option=\"showDataCombo\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"showDataCombo\" action=\"hide\" conditionResult=\"false\"/>\n        </Dependency>\n        <Dependency condition=\"($showData == '1' &amp;&amp; $showDataCombo == 'showSubsetDataChoice')\">\n            <Target option=\"subsetNobs\" action=\"show\" conditionResult=\"true\"/>\n            <Target option=\"subsetNobs\" action=\"hide\" conditionResult=\"false\"/>\n        </Dependency>\n    </Dependencies>\n\n    <Requirements>\n        <Requirement condition=\"!(             $useNameVarname == '1' &amp;&amp;             $useLabelVarname == '1' &amp;&amp;             $nameVarname.equalsIgnoreCase( $labelVarname ) )\">\n            <Message nlsKey=\"duplicateVarNamesRequirementKey\">The names for the SAS variables to hold the original variable names and labels cannot be the same.</Message>\n        </Requirement>\n        <Requirement condition=\"!(             $useNameVarname == '1' &amp;&amp;             $dataset.columnExists($nameVarname)             )\">\n            <Message nlsKey=\"nameVarNameExistsinDatasetRequirementKey\">The specified name of the SAS variable to hold the original variable names is already in use in the data set.</Message>\n        </Requirement>\n        <Requirement condition=\"!(             $useLabelVarname == '1' &amp;&amp;             $dataset.columnExists($labelVarname)             )\">\n            <Message nlsKey=\"labelVarNameExistsinDatasetRequirementKey\">The specified name of the SAS variable to hold the original variable labels is already in use in the data set.</Message>\n        </Requirement>\n    </Requirements>\n\n    <CodeTemplate>\n        <![CDATA[\n#if ($byVariables.size() > 0)\nproc sort data=$dataset out=WORK.SORTTempTableSorted;\n   #if ($dataset.getWhereClause() != '')\n   where $dataset.getWhereClause();\n   #end\n    by #foreach( $item in $byVariables ) $item #end ;\nrun;\nproc transpose data=WORK.SORTTempTableSorted\n#else\nproc transpose data=$dataset\n#end\n    out=$outDsname\n    #if ((!$usePrefix) || ($usePrefix == \"1\")) prefix=$CTMUtil.toSASName($prefix)#end\n    #if ($allowDuplicates == \"1\") let#end\n    #if ($useNameVarname == '1')\n    name=$CTMUtil.toSASName($nameVarname)\n    #end\n    #if ($useLabelVarname == '1')\n    label=$CTMUtil.toSASName($labelVarname)\n    #end\n;\n\n#if ($byVariables.size() == 0 && $dataset.getWhereClause() != '')\n   where $dataset.getWhereClause();\n#end\n\n#if ($transposeVariables.size() > 0)\n   var #foreach($item in $transposeVariables) $item#end;\n#end\n#if ($idVariable.size() > 0)\n    id#foreach($item in $idVariable) $item #end;\n#end\n#if ($idLabelVariable.size() > 0)\n    idlabel#foreach($item in $idLabelVariable) $item #end;\n#end\n#if ($copyVariables.size() > 0)\n   copy #foreach($item in $copyVariables) $item#end;\n#end\n#if ($byVariables.size() > 0)\n    by#foreach($item in $byVariables) $item #end;\n#end\nrun;\n\n#if ($showData == '1')\n#if($showDataCombo == 'showSubsetDataChoice')\n#set( $finalTitle = $subsetTitle.replace(\"{1}\", \"${outDsname.get('value')}\") )\n#end\nproc print data=$outDsname#if($showDataCombo == 'showSubsetDataChoice')(obs=$subsetNobs)#end;\ntitle \"#if($showDataCombo == 'showSubsetDataChoice')$finalTitle#{else}${outDsname.get('value')}#end\";\nrun;\ntitle;\n#end\n\n#if ($byVariables.size() > 0)\nproc delete data=WORK.SORTTempTableSorted; run;\n#end\n\n        ]]>\n    </CodeTemplate>\n<TemplateValues version=\"3.8\"><![CDATA[\n{\"showData\":\"1\",\"useNameVarname\":\"0\",\"usePrefix\":\"0\",\"prefix\":\"Column\",\"sasOS\":\"X64_10PRO WIN\",\"nameVarname\":\"_Name_\",\"idVariable\":\"json:[{\\\"value\\\":\\\"INDICATOR\\\",\\\"type\\\":\\\"Char\\\",\\\"length\\\":250,\\\"format\\\":\\\"$250.\\\",\\\"informat\\\":\\\"$250.\\\",\\\"className\\\":\\\"RoleObject\\\"}]\",\"dataTab\":\"DATA\",\"subsetNobs\":\"10\",\"rolesGroup\":\"ROLES\",\"labelVarname\":\"_Label_\",\"showDataCombo\":\"showSubsetDataChoice\",\"showAllDataChoice\":\"Show all output data\",\"transposedVarNamesGroup\":\"NAMES AND LABELS OF TRANSPOSED VARIABLES\",\"useIdLabelVar\":\"0\",\"originalVarNamesGroup\":\"NAMES AND LABELS OF ORIGINAL VARIABLES\",\"otherRolesGroup\":\"ADDITIONAL ROLES\",\"useIdVar\":\"1\",\"subsetTitle\":\"Subset of {1}\",\"byVariables\":\"json:[{\\\"value\\\":\\\"YEAR_NUM\\\",\\\"type\\\":\\\"Numeric\\\",\\\"length\\\":8,\\\"format\\\":\\\"\\\",\\\"informat\\\":\\\"\\\",\\\"className\\\":\\\"RoleObject\\\"},{\\\"value\\\":\\\"LOCALE_VA\\\",\\\"type\\\":\\\"Char\\\",\\\"length\\\":50,\\\"format\\\":\\\"$50.\\\",\\\"informat\\\":\\\"$50.\\\",\\\"className\\\":\\\"RoleObject\\\"}]\",\"showSubsetDataChoice\":\"Show subset of output data\",\"idLabelVariable\":\"\",\"dataGroup\":\"DATA\",\"outDsname\":\"work.MYSNOWFLAKEDATA_Wide\",\"showDataGroup\":\"Show Output Data\",\"sasVersion\":\"9.46\",\"transposedVarLabelsNote\":\"Construct New Variable Labels\",\"useLabelVarname\":\"0\",\"outputGroup\":\"OUTPUT DATA SET\",\"transposedVarNamesNote\":\"Construct New Variable Names\",\"transposeVariables\":\"json:[{\\\"value\\\":\\\"VALUE\\\",\\\"type\\\":\\\"Numeric\\\",\\\"length\\\":8,\\\"format\\\":\\\"\\\",\\\"informat\\\":\\\"\\\",\\\"className\\\":\\\"RoleObject\\\"}]\",\"optionsTab\":\"OPTIONS\",\"copyVariables\":\"\",\"dataset\":{\"librarytable\":\"WORK.MYSNOWFLAKEDATA\"},\"allowDuplicates\":\"0\"}\n]]>\n</TemplateValues></Task>"},"properties":{"left":"74","top":"8","width":"100","height":"60","region":"output","fillcolor":"#FCFCFC","linecolor":"#9a9a9a","tooltip":"Transpose Data","portsonly":true,"key":"control","visible":true,"icon":"sasTransposeRowsToColumnsIcon"}}],"ports":[{"version":2,"type":"port","id":"1e9b92c0-7eb1-4294-86a0-bced474c065e","name":"","label":"","description":"","created":1601904919928,"modified":1601904919928,"notes":"","parameters":{},"properties":{"left":"245","top":"31","width":"13","height":"13","parent":"ea713ed9-383b-4665-8938-09b6c970c1f0","region":"input","readonly":false,"disabled":false,"fillcolor":"#FCFCFC","linecolor":"#9a9a9a","key":"control"}},{"version":2,"type":"port","id":"32b5b155-047b-4467-8017-d86dbee91f75","name":"","label":"","description":"","created":1601904919928,"modified":1601904919928,"notes":"","parameters":{},"properties":{"left":"372","top":"31","width":"13","height":"13","parent":"ea713ed9-383b-4665-8938-09b6c970c1f0","region":"output","readonly":false,"disabled":false,"fillcolor":"#FCFCFC","linecolor":"#9a9a9a","key":"control"}},{"version":2,"type":"port","id":"c9d9fa13-095c-4015-8b27-37f7c476afec","name":"","label":"","description":"","created":1601904919929,"modified":1601904919929,"notes":"","parameters":{},"properties":{"left":"54","top":"22","width":"13","height":"13","parent":"f99f16e3-bc9f-4c5a-821d-2ece3109f75f","region":"input","readonly":false,"disabled":false,"fillcolor":"#FCFCFC","linecolor":"#9a9a9a","key":"control"}},{"version":2,"type":"port","id":"287a7e10-9a09-430e-8ac9-abf17a989f54","name":"","label":"","description":"","created":1601904919929,"modified":1601904919929,"notes":"","parameters":{},"properties":{"left":"181","top":"31","width":"13","height":"13","parent":"f99f16e3-bc9f-4c5a-821d-2ece3109f75f","region":"output","readonly":false,"disabled":false,"fillcolor":"#FCFCFC","linecolor":"#9a9a9a","key":"control"}},{"version":2,"type":"port","id":"936ce663-580c-4607-8396-f9d1178de4d8","name":"MYSNOWFLAKEDATA","label":"","description":"","created":1601904919929,"modified":1601904919929,"notes":"","parameters":{},"properties":{"left":"54","top":"40","width":"13","height":"13","parent":"f99f16e3-bc9f-4c5a-821d-2ece3109f75f","region":"input","readonly":true,"disabled":false,"fillcolor":"#FCFCFC","linecolor":"#9a9a9a","key":"data","icon":"sasSASDataSetIcon10","libref":"WORK"}}],"connectors":[{"version":2,"type":"link","id":"07e23c3e-97b0-44b6-87a1-744f185c8a70","name":"","label":"","description":"","created":1601904919929,"modified":1601904919929,"notes":"","parameters":{},"properties":{"linecolor":"#C0C0C0","linestyle":"Dash"},"sources":[{"value":"287a7e10-9a09-430e-8ac9-abf17a989f54"}],"targets":[{"value":"1e9b92c0-7eb1-4294-86a0-bced474c065e"}]}]},{"version":2,"type":"task","id":"b02550e4-beee-4fbc-8003-453d3168503f","name":"","label":"load2CAS","description":"","created":1601904919930,"modified":1601904919930,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"runSASCode","priority":"Reserved","code":"/*\n *\n * Task code generated by SAS Studio 3.8 \n *\n * Generated on '10/5/20, 9:34 AM' \n * Generated by 'mafiga' \n * Generated on server 'L10B236.NA.SAS.COM' \n * Generated on SAS platform 'X64_10PRO WIN' \n * Generated on SAS version '9.04.01M6P11072018' \n * Generated on browser 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36' \n * Generated on web client 'http://localhost:52089/main?locale=en_US&zone=GMT-04%253A00&sutoken=%257B477C1EAA-6E31-42EC-BB6E-8A03E9E91A7C%257D' \n *\n */\n\n%macro load2CAS(TargetHostName=, LibName=, DSName=);\n\t/***********************************************************************************/\n\t/* Program Name: load2CAS                                                          */\n\t/* Date Created: 09/15/2020                                                        */\n\t/* Author: \tManuel Figallo                                                         */\n\t/* Purpose: load data to SAS Viya CAS (Cloud Analytic Services                     */\n\t/*                                                                                 */\n\t/* ------------------------------------------------------------------------------- */\n\t/*                                                                                 */\n\t/* Input(s): TargetHostName is the Target CAS Server Name                          */\n\t/*           LibName is the target CAS library        \t\t\t\t\t\t\t   */\n\t/*           DSName is the name of the dataset                                     */\n\t/*                                                                                 */\n\t/* ---------------------THE SECTION BELOW IS FOR FUTURE ENHANCEMENTS-------------- */\n\t/* Date Modified: TBD                                                              */\n\t/* Modified by: TBD                                                                */\n\t/* Reason for Modification: TBD                                                    */\n\t/* Modification Made: TBD                                                          */\n\t/***********************************************************************************/\n\n\t\t%let TargetHostName2=&TargetHostName;\n\t%let TargetHostName3=%SYSFUNC(STRIP(%QSYSFUNC(TRANWRD(&TargetHostName2, \n\t\t%str(%\"), %str()))));\n\toptions comamid=TCP;\n\t%let local=&TargetHostName3 17551;\n\n\tdata _null_;\n\t\tsignon local user='sasdemo' password=\"Orion123\" noscript;\n\trun;\n\n\t%syslput targethostname2_0=&TargetHostName2;\n\t%syslput Dataset1_0=&DSName;\n\t%syslput Lib1_0=&LibName;\n\trsubmit local;\n\toptions validmemname=EXTEND validvarname=ANY;\n\tlibname &Lib1_0 CAS CASLIB=&Lib1_0 SERVER=&targethostname2_0 PORT=5570;\n\n\tproc datasets lib=&Lib1_0 nolist nowarn memtype=(data view);\n\t\tdelete &Dataset1_0;\n\tquit;\n\n\tproc upload data=&Dataset1_0 out=&Lib1_0..&Dataset1_0 (PROMOTE=YES);\n\trun;\n\n\tendrsubmit;\n\n\tdata _null_;\n\t\tsignoff local;\n\trun;\n\n%mend load2CAS;\n\n%let MyInputVariableName1=\"10.96.7.219\";\n%let MYBOOLEANVAR1=PUBLIC;\n%load2CAS(TargetHostName=&MyInputVariableName1, LibName=&MYBOOLEANVAR1, \n\tDSName=MYSNOWFLAKEDATA_WIDE1) /* Just open the dataset for now. */\n%web_open_table(MYSNOWFLAKEDATA_WIDE1);","ctm":"C:/SAS/Projects/GITHUB/Machine_Learning_Cloud/sas_studio/ctm/load2CAS.ctm","serializedData":"<Task runNLS=\"never\" schemaVersion=\"3.0\">\n    <Registration>\n        <Name>load2CAS</Name>\n        <Description>Demonstrates load2CAS using the Common Task Model functionality.</Description>\n        <GUID>C6AC34BD-D14A-4CF5-BF2F-A110711BF819</GUID>\n        <Procedures>PRINT</Procedures>\n        <Version>3.3</Version>\n        <Links>\n            <Link href=\"http://www.sas.com\">SAS Home page</Link>\n        </Links>\n        <Category>GITHUB</Category>\n    </Registration>\n    <Metadata>\n        <!--- Define the task options.             -->\n        <Options>\n            <Option inputType=\"string\" name=\"OPTIONSTAB\">OPTIONS</Option>\n            <Option inputType=\"string\" name=\"GROUPTEXT\">TEXT FIELDS</Option>\n            <Option inputType=\"string\" name=\"MyVar1\">An example of a text.</Option>\n            <Option defaultValue=\"&quot;pdcesx16042.exnet.sas.com&quot;\" inputType=\"inputtext\" missingMessage=\"Missing text.\" name=\"MyVar1\" promptMessage=\"Enter Remote CAS Server.\" required=\"true\">Enter Remote CAS Server:</Option>\n  \n            <Option inputType=\"string\" name=\"MyVar2\">An example of a text.</Option>\n            <Option defaultValue=\"PUBLIC\" inputType=\"inputtext\" missingMessage=\"Missing text.\" name=\"MyVar2\" promptMessage=\"Enter Library.\" required=\"true\">Enter Library:</Option>\n  \n            <Option inputType=\"string\" name=\"MyVar3\">An example of a text.</Option>\n            <Option defaultValue=\"MYGOOGLEDATA_WIDE1\" inputType=\"inputtext\" missingMessage=\"Missing text.\" name=\"MyVar3\" promptMessage=\"Enter a Dataset to load.\" required=\"true\">Enter a Dataset to load:</Option>               \n        </Options>\n    </Metadata>\n    <!--- Define the UI for task options                         -->\n    <!--- The UI engine will determine the best respresentation. -->\n    <UI>\n        <Container option=\"OPTIONSTAB\">\n\t\t   <!--- Define the UI for task options                         \n\t\t\t-->\n            <Group option=\"GROUPTEXT\">\n                <OptionItem option=\"MyVar1\"/>\n                <OptionItem option=\"MyVar2\"/>\n                <OptionItem option=\"MyVar3\"/>\n            </Group>\n        </Container>\n    </UI>\n    <!--- Define the velocity code template.        -->\n    <CodeTemplate><![CDATA[\n%macro load2CAS(TargetHostName=, LibName=, DSName=);\n/***********************************************************************************/\n/* Program Name: load2CAS                                                          */\n/* Date Created: 09/15/2020                                                        */\n/* Author: \tManuel Figallo                                                         */\n/* Purpose: load data to SAS Viya CAS (Cloud Analytic Services                     */\n/*                                                                                 */\n/* ------------------------------------------------------------------------------- */\n/*                                                                                 */\n/* Input(s): TargetHostName is the Target CAS Server Name                          */\n/*           LibName is the target CAS library        \t\t\t\t\t\t\t   */\n/*           DSName is the name of the dataset                                     */\n/*                                                                                 */\n/* ---------------------THE SECTION BELOW IS FOR FUTURE ENHANCEMENTS-------------- */\n/* Date Modified: TBD                                                              */\n/* Modified by: TBD                                                                */\n/* Reason for Modification: TBD                                                    */\n/* Modification Made: TBD                                                          */\n/***********************************************************************************/\n\n\t\t%let TargetHostName2=&TargetHostName;\n\t\t%let TargetHostName3=%SYSFUNC(STRIP(%QSYSFUNC(TRANWRD(&TargetHostName2, %str(%\"), %str()))));\n\t\n\t\toptions comamid=TCP;\n\t\t%let local=&TargetHostName3 17551;\n\n\t\tdata _null_; \n\t\t   signon local user='sasdemo' password=\"Orion123\" noscript;\n\t\trun;\n\n\t\t%syslput targethostname2_0=&TargetHostName2;\n\t\t%syslput Dataset1_0=&DSName;\n\t\t%syslput Lib1_0=&LibName;\n\t\t  \n\t\trsubmit local;   options validmemname=EXTEND validvarname=ANY;\n\t\t   libname &Lib1_0 CAS  CASLIB=&Lib1_0 SERVER=&targethostname2_0 PORT=5570 ;\n\t\t   proc datasets lib=&Lib1_0 nolist nowarn memtype=(data view);\n\t\t\t   delete &Dataset1_0;\n\t\t   quit;\n\t\t   proc upload data=&Dataset1_0 out=&Lib1_0..&Dataset1_0 (PROMOTE=YES);  \n\t\t   run;\n\t\tendrsubmit;\n\n\t\tdata _null_; \n\t\t   signoff local;\n\t\trun;\n\n%mend load2CAS;\n\n%let MyInputVariableName1=$MyVar1;\n%let MYBOOLEANVAR1=$MyVar2;\n%load2CAS(TargetHostName=&MyInputVariableName1, LibName=&MYBOOLEANVAR1, DSName=$MyVar3)\n\n/* Just open the dataset for now. */\n%web_open_table($MyVar3);\n\n\t\t]]></CodeTemplate>\n<TemplateValues version=\"3.8\"><![CDATA[\n{\"OPTIONSTAB\":\"OPTIONS\",\"MyVar1\":\"\\\"10.96.7.219\\\"\",\"MyVar2\":\"PUBLIC\",\"sasVersion\":\"9.46\",\"sasOS\":\"X64_10PRO WIN\",\"GROUPTEXT\":\"TEXT FIELDS\",\"MyVar3\":\"MYSNOWFLAKEDATA_WIDE1\"}\n]]>\n</TemplateValues></Task>","dependencies":["102471d4-3ebe-4186-87a6-66127a4d5ec6"]},"properties":{"left":"409","top":"33","width":"100","height":"60","region":"output","fillcolor":"#E0E6F1","linecolor":"#6882a3","tooltip":"load2CAS","portsonly":true,"key":"control","visible":true,"icon":"sasTaskIcon"}},{"version":2,"type":"task","id":"360ad212-76d1-4427-8e2a-913d379da73e","name":"","label":"extractSnowflakeData","description":"","created":1601904919930,"modified":1601904919930,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"runSASCode","priority":"Reserved","code":"/*\n *\n * Task code generated by SAS Studio 3.8 \n *\n * Generated on '10/5/20, 9:30 AM' \n * Generated by 'mafiga' \n * Generated on server 'L10B236.NA.SAS.COM' \n * Generated on SAS platform 'X64_10PRO WIN' \n * Generated on SAS version '9.04.01M6P11072018' \n * Generated on browser 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36' \n * Generated on web client 'http://localhost:52089/main?locale=en_US&zone=GMT-04%253A00&sutoken=%257B477C1EAA-6E31-42EC-BB6E-8A03E9E91A7C%257D' \n *\n */\n\noptions noxwait mprint mlogic;\noptions noquotelenmax;\n\n%macro extractSnowflakeData(remoteSnowflakeData=, localDataset=);\n\t/***********************************************************************************/\n\t/* Program Name: extractSnowflakeData                                              */\n\t/* Date Created: 09/22/2020                                                        */\n\t/* Author: \tManuel Figallo                                                         */\n\t/* Purpose: extract data from a Snowflake Warehouse                                */\n\t/*                                                                                 */\n\t/* ------------------------------------------------------------------------------- */\n\t/*                                                                                 */\n\t/* Input(s): remoteSnowflakeData is the name of the data table in Snowflake        */\n\t/*                    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   */\n\t/* Output(s): localDataset is the dataset with all data from Snowflake query       */\n\t/*                                                                                 */\n\t/* ---------------------THE SECTION BELOW IS FOR FUTURE ENHANCEMENTS-------------- */\n\t/* Date Modified: TBD                                                              */\n\t/* Modified by: TBD                                                                */\n\t/* Reason for Modification: TBD                                                    */\n\t/* Modification Made: TBD                                                          */\n\t/***********************************************************************************/\n\t\t\n\t%let mysource1=&remoteSnowflakeData;\n\t%let mytarget1=&localDataset;\n\tlibname sfawdw6 odbc \n\t\tnoprompt=\"driver={SnowflakeDSIIDriver};server=demo2.snowflakecomputing.com; \n\n\t\t\twarehouse=SAS_WH; database=SAS_TEST; Uid=manuel; Pwd=ChangeMe123!;\" \n\t\tschema=PUBLIC;\n\n\tdata &mytarget1;\n\t\tset sfawdw6.&mysource1;\n\t\t*if _N_ > 100 then delete;\n\trun;\n\n%mend extractSnowflakeData;\n\n%let mySnowflakeDat=CMS_DATA;\n%let myDSOutput=work.mySnowflakeData;\n%extractSnowflakeData(remoteSnowflakeData=&mySnowflakeDat, \n\tlocalDataset=&myDSOutput) /* Just open the dataset for now. */\n%web_open_table(work.mySnowflakeData);","ctm":"C:/SAS/Projects/GITHUB/Machine_Learning_Cloud/sas_studio/ctm/extractSnowflakeData.ctm","serializedData":"<Task runNLS=\"never\" schemaVersion=\"3.0\">\n    <Registration>\n        <Name>extractSnowflakeData</Name>\n        <Description>Demonstrates extractSnowflakeData using the Common Task Model functionality.</Description>\n        <GUID>C6AC34BD-D14A-4CF5-BF2F-A110711BF819</GUID>\n        <Procedures>PRINT</Procedures>\n        <Version>3.3</Version>\n        <Links>\n            <Link href=\"http://www.sas.com\">SAS Home page</Link>\n        </Links>\n        <Category>GITHUB</Category>\n    </Registration>\n    <Metadata>\n        <!--- Define the task options.             -->\n        <Options>\n            <Option inputType=\"string\" name=\"OPTIONSTAB\">OPTIONS</Option>\n            <Option inputType=\"string\" name=\"GROUPTEXT\">TEXT FIELDS</Option>\n            <Option inputType=\"string\" name=\"labelVALIDATIONTEXT0\">Assign input variables in this section.</Option>\n            <Option defaultValue=\"CMS_DATA\" inputType=\"inputtext\" missingMessage=\"Missing text.\" name=\"validationtextBD0\" promptMessage=\"Enter a Google API call.\" required=\"true\">Enter Snowflake data tablename:</Option>\n  \n            <Option inputType=\"string\" name=\"labelTEXT1\">Input variables are passed into an interface to produce output.</Option>\n            <Option defaultValue=\"work.mySnowflakeData\" indent=\"0\" inputType=\"inputtext\" missingMessage=\"Missing text.\" name=\"textSF1\" promptMessage=\"Enter Output Lookup Table.\" required=\"true\">Enter output SAS dataset:</Option>\n                \n        </Options>\n    </Metadata>\n    <!--- Define the UI for task options                         -->\n    <!--- The UI engine will determine the best representation. -->\n    <UI>\n        <Container option=\"OPTIONSTAB\">\n            <Group option=\"GROUPTEXT\">\n                <OptionItem option=\"labelVALIDATIONTEXT0\"/>\n                <OptionItem option=\"validationtextBD0\"/>\n                <OptionItem option=\"labelTEXT1\"/>\n                <OptionItem option=\"textSF1\"/>\n            </Group>\n        </Container>\n    </UI>\n    <!--- Define the velocity code template.        -->\n    <CodeTemplate><![CDATA[\n\noptions noxwait mprint mlogic;\noptions noquotelenmax;\n\n%macro extractSnowflakeData(remoteSnowflakeData=, localDataset=);\n/***********************************************************************************/\n/* Program Name: extractSnowflakeData                                              */\n/* Date Created: 09/22/2020                                                        */\n/* Author: \tManuel Figallo                                                         */\n/* Purpose: extract data from a Snowflake Warehouse                                */\n/*                                                                                 */\n/* ------------------------------------------------------------------------------- */\n/*                                                                                 */\n/* Input(s): remoteSnowflakeData is the name of the data table in Snowflake        */\n/*                    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   */\n/* Output(s): localDataset is the dataset with all data from Snowflake query       */\n/*                                                                                 */\n/* ---------------------THE SECTION BELOW IS FOR FUTURE ENHANCEMENTS-------------- */\n/* Date Modified: TBD                                                              */\n/* Modified by: TBD                                                                */\n/* Reason for Modification: TBD                                                    */\n/* Modification Made: TBD                                                          */\n/***********************************************************************************/\n\t\t\n\t%let mysource1=&remoteSnowflakeData;\n\t%let mytarget1=&localDataset;\n\n\tlibname sfawdw6 odbc \n\tnoprompt=\"driver={SnowflakeDSIIDriver};server=demo2.snowflakecomputing.com; \n\twarehouse=SAS_WH; database=SAS_TEST; Uid=manuel; Pwd=ChangeMe123!;\" schema=PUBLIC;\n\n\tdata &mytarget1;\n\t\tset sfawdw6.&mysource1;\n\t\t*if _N_ > 100 then delete;\n\trun;\n\t\n%mend extractSnowflakeData;\n\n%let mySnowflakeDat=$validationtextBD0;\n%let myDSOutput=$textSF1;\n\n%extractSnowflakeData(remoteSnowflakeData=&mySnowflakeDat, localDataset=&myDSOutput)\n\n/* Just open the dataset for now. */\n%web_open_table($textSF1);\n\n\t\t]]></CodeTemplate>\n</Task>"},"properties":{"left":"51","top":"33","width":"100","height":"60","region":"output","fillcolor":"#E4C6C0","linecolor":"#a06c61","tooltip":"extractSnowflakeData","portsonly":true,"key":"control","visible":true,"icon":"sasTaskIcon"}}],"ports":[{"version":2,"type":"port","id":"9cfb4d52-fca5-4b94-8978-5d32ffcd55f4","name":"","label":"","description":"","created":1601904919930,"modified":1601904919930,"notes":"","parameters":{},"properties":{"left":"204","top":"51","width":"13","height":"13","parent":"102471d4-3ebe-4186-87a6-66127a4d5ec6","region":"input","readonly":false,"disabled":false,"fillcolor":"#FCFCFC","linecolor":"#9a9a9a","key":"control"}},{"version":2,"type":"port","id":"dd4e0153-25fd-40d7-87e8-2cfee4be208d","name":"","label":"","description":"","created":1601904919930,"modified":1601904919930,"notes":"","parameters":{},"properties":{"left":"331","top":"51","width":"13","height":"13","parent":"102471d4-3ebe-4186-87a6-66127a4d5ec6","region":"output","readonly":false,"disabled":false,"fillcolor":"#FCFCFC","linecolor":"#9a9a9a","key":"control"}},{"version":2,"type":"port","id":"7d4597c5-b2e6-47ee-855f-d2757e0eea73","name":"","label":"","description":"","created":1601904919931,"modified":1601904919931,"notes":"","parameters":{},"properties":{"left":"389","top":"56","width":"13","height":"13","parent":"b02550e4-beee-4fbc-8003-453d3168503f","region":"input","readonly":false,"disabled":false,"fillcolor":"#E0E6F1","linecolor":"#6882a3","key":"control"}},{"version":2,"type":"port","id":"acc8e83f-b681-41dd-8304-1fb23da2ae90","name":"","label":"","description":"","created":1601904919931,"modified":1601904919931,"notes":"","parameters":{},"properties":{"left":"516","top":"47","width":"13","height":"13","parent":"b02550e4-beee-4fbc-8003-453d3168503f","region":"output","readonly":false,"disabled":false,"fillcolor":"#E0E6F1","linecolor":"#6882a3","key":"control"}},{"version":2,"type":"port","id":"3ee0e47e-09d2-4342-8313-d5084fe8fbea","name":"MYSNOWFLAKEDATA_WIDE1","label":"","description":"","created":1601915338118,"modified":1601915338124,"notes":"","parameters":{},"properties":{"left":"516","top":"65","width":"13","height":"13","parent":"b02550e4-beee-4fbc-8003-453d3168503f","region":"output","readonly":true,"disabled":false,"fillcolor":"#E0E6F1","linecolor":"#6882a3","key":"data","icon":"sasSASDataSetIcon10"}},{"version":2,"type":"port","id":"1f6394ad-3680-48ca-8d5f-9ac9076b3ef9","name":"","label":"","description":"","created":1601904919931,"modified":1601904919931,"notes":"","parameters":{},"properties":{"left":"31","top":"56","width":"13","height":"13","parent":"360ad212-76d1-4427-8e2a-913d379da73e","region":"input","readonly":false,"disabled":false,"fillcolor":"#E4C6C0","linecolor":"#a06c61","key":"control"}},{"version":2,"type":"port","id":"8e0c8885-4a37-4310-83de-6baf860b93bf","name":"","label":"","description":"","created":1601904919931,"modified":1601904919931,"notes":"","parameters":{},"properties":{"left":"158","top":"47","width":"13","height":"13","parent":"360ad212-76d1-4427-8e2a-913d379da73e","region":"output","readonly":false,"disabled":false,"fillcolor":"#E4C6C0","linecolor":"#a06c61","key":"control"}},{"version":2,"type":"port","id":"f80a7e64-97f3-4da0-87d1-d3f09665b12c","name":"mySnowflakeData","label":"","description":"","created":1601915329236,"modified":1601915329241,"notes":"","parameters":{},"properties":{"left":"158","top":"65","width":"13","height":"13","parent":"360ad212-76d1-4427-8e2a-913d379da73e","region":"output","readonly":true,"disabled":false,"fillcolor":"#E4C6C0","linecolor":"#a06c61","key":"data","icon":"sasSASDataSetIcon10","libref":"work"}}],"connectors":[{"version":2,"type":"link","id":"3869a89d-0794-442b-832a-4c99b290238c","name":"","label":"","description":"","created":1601904919931,"modified":1601904919931,"notes":"","parameters":{},"properties":{"linecolor":"#C0C0C0","linestyle":"Dash"},"sources":[{"value":"dd4e0153-25fd-40d7-87e8-2cfee4be208d"}],"targets":[{"value":"7d4597c5-b2e6-47ee-855f-d2757e0eea73"}]},{"version":2,"type":"link","id":"219cfc51-1d3d-4ac6-8322-0e1f3d4d1226","name":"","label":"","description":"","created":1601904919931,"modified":1601904919931,"notes":"","parameters":{},"properties":{"linecolor":"#C0C0C0","linestyle":"Dash"},"sources":[{"value":"8e0c8885-4a37-4310-83de-6baf860b93bf"}],"targets":[{"value":"9cfb4d52-fca5-4b94-8978-5d32ffcd55f4"}]}]}